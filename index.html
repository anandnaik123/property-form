<!DOCTYPE html>
<html>
<head>
    <title>Property Form - Send to WhatsApp + Google Sheet</title>
    <meta charset="UTF-8">
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 30px;
            background: linear-gradient(120deg, #2c3e50, #4ca1af);
            color: #f9f9f9;
        }
        h2 {
            text-align: center;
            color: #f1f1f1;
            margin-bottom: 20px;
        }
        form {
            background: #333;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            max-width: 600px;
            margin: auto;
        }
        label {
            display: block;
            margin-top: 12px;
            font-weight: bold;
            color: #f1f1f1;
        }
        input, textarea, select {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border-radius: 6px;
            border: 1px solid #ccc;
            font-size: 14px;
            background-color: #444;
            color: #fff;
        }
        button {
            margin-top: 20px;
            padding: 14px 20px;
            font-size: 16px;
            background-color: #25D366;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
        }
        button:hover {
            background-color: #1ebd5b;
        }
    </style>
</head>
<body>

<h2>Property Submission Form</h2>

<form id="propertyForm">

    <label>Owner / Builder / Agent:</label>
    <input type="text" name="ownerType" required>

    <label>Name:</label>
    <input type="text" name="name" required>

    <label>Contact Number:</label>
    <input type="text" name="contact" required>

    <label>Property Types (2-3-4+ BHK):</label>
    <input type="text" name="bhkType" required>

    <label>Property Type:</label>
    <select name="propertyType" required>
        <option value="Flat">Flat</option>
        <option value="Bungalow">Bungalow</option>
        <option value="Row House">Row House</option>
        <option value="Plot">Plot</option>
        <option value="Commercial">Commercial</option>
    </select>

    <label>Sale / Rent:</label>
    <select name="saleRent" required>
        <option value="Sale">Sale</option>
        <option value="Rent">Rent</option>
    </select>

    <label>Location / Address:</label>
    <textarea name="address" required></textarea>

    <label>Flat Sq.ft Area:</label>
    <input type="text" name="area" required>

    <label>Balconies:</label>
    <input type="text" name="balconies">

    <label>Floor Number & Total Floors:</label>
    <input type="text" name="floorInfo">

    <label>Lift Backup:</label>
    <select name="liftBackup" required>
        <option value="Available">Available</option>
        <option value="Not Available">Not Available</option>
    </select>

    <label>Parking Available:</label>
    <select name="parking">
        <option value="Covered">Covered</option>
        <option value="Open">Open</option>
        <option value="None">None</option>
    </select>

    <label>Furnishing Status:</label>
    <select name="furnishing" required>
        <option value="Unfurnished">Unfurnished</option>
        <option value="Semi-Furnished">Semi-Furnished</option>
        <option value="Fully Furnished">Fully Furnished</option>
    </select>

    <label>Expected Price / Rent:</label>
    <input type="text" name="price">

    <label>Age of Property:</label>
    <input type="text" name="propertyAge">

    <label>Facing:</label>
    <input type="text" name="facing">

    <label>Key:</label>
    <select name="keyStatus" required>
        <option value="Tenant">Tenant</option>
        <option value="Owner">Owner</option>
        <option value="Vacant">Vacant</option>
    </select>

    <label>Photos / Videos:</label>
    <textarea name="photos"></textarea>

    <label>Add on Details:</label>
    <textarea name="addOn"></textarea>

    <button type="button" onclick="submitForm()">Send to Google Sheet & WhatsApp</button>
</form>

<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbxIevJ5PbwZgJRA-OSRJLtBd7B7tnWvvesubJyoyf7cR74ATE0XP1vPkkuQeirn_goK/exec';

    function submitForm() {
        const form = document.getElementById('propertyForm');
        const formData = new FormData(form);

        const plainObject = {};
        formData.forEach((value, key) => {
            plainObject[key] = value;
        });

        fetch(scriptURL, {
            method: 'POST',
            body: JSON.stringify(plainObject),
            headers: {
                'Content-Type': 'application/json'
            }
        })
        .then(response => {
            console.log('Sheet Success:', response);
            sendWhatsApp();
        })
        .catch(error => {
            console.error('Error!', error.message);
            alert('Something went wrong!');
        });
    }

    function sendWhatsApp() {
        const form = document.getElementById('propertyForm');
        const data = new FormData(form);
        const formData = Object.fromEntries(data.entries());

        const message = `
*PROPERTY DETAILS*

*Owner/ Builder/ Agent:* ${formData.ownerType}
*Name:* ${formData.name}
*Contact Number:* ${formData.contact}
*Property Types (BHK):* ${formData.bhkType}
*Property Type:* ${formData.propertyType}
*Sale / Rent:* ${formData.saleRent}
*Location / Address:* ${formData.address}
*Flat Sq.ft Area:* ${formData.area}
*Balconies:* ${formData.balconies}
*Floor Number & Total Floors:* ${formData.floorInfo}
*Lift Backup:* ${formData.liftBackup}
*Parking Available:* ${formData.parking}
*Furnishing Status:* ${formData.furnishing}
*Expected Price / Rent:* ${formData.price}
*Age of Property:* ${formData.propertyAge}
*Facing:* ${formData.facing}
*Key:* ${formData.keyStatus}
*Photos / Videos:* ${formData.photos}
*Add on Details:* ${formData.addOn}

_Thank you!_
        `.trim();

        const encodedMessage = encodeURIComponent(message);
        const whatsappURL = `https://wa.me/?text=${encodedMessage}`;
        window.open(whatsappURL, '_blank');
    }
</script>

</body>
</html>
